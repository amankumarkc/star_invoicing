{% extends "base.html" %}

{% block body %}
<div class="d-flex justify-content-between align-items-center mb-3">
    <h2>Customer List</h2>
    <a href="/new-customer" class="btn btn-success">➕ Add New</a>
</div>

<ul class="list-group">
    {% for customer in customers %}
    <li class="list-group-item d-flex justify-content-between align-items-center">
        <span>
            <strong>{{ customer.id }}.</strong> {{ customer.full_name }} | {{ customer.address }}
        </span>
        <span>
            <a href="/customers/edit/{{ customer.id }}" class="btn btn-sm btn-warning">✏️ Edit</a>
            <form action="/customers/delete/{{ customer.id }}" method="post" style="display:inline;">
                <button type="submit" class="btn btn-sm btn-danger" onclick="return confirm('Are you sure?')">🗑️ Delete</button>
            </form>
            <a href="/new-invoice?customer_id={{ customer.id }}&customer_name={{ customer.full_name | urlencode }}" 
                class="btn btn-sm btn-primary">📝 Create Invoice</a>

        </span>
    </li>
    {% endfor %}
</ul>
{% endblock %}
